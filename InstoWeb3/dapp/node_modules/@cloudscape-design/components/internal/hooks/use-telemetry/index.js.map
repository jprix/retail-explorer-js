{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../src/internal/hooks/use-telemetry/index.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AACtC,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAClC,OAAO,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAC1C,OAAO,EAAE,OAAO,EAAE,MAAM,eAAe,CAAC;AACxC,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AAEtD,MAAM,UAAU,YAAY,CAAC,aAAqB;IAChD,IAAM,eAAe,GAAG,gBAAgB,EAAE,CAAC;IAE3C,SAAS,CAAC;QACR,OAAO,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QACpD,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YACjC,OAAO,CAAC,cAAc,CAAC,sBAAsB,EAAE,MAAM,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC;YACvE,OAAO,CAAC,cAAc,CAAC,uBAAuB,EAAE,MAAM,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC;SAC1E;QACD,OAAO,CAAC,kBAAkB,EAAE,CAAC;QAC7B,OAAO,CAAC,gBAAgB,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,CAAC;QACtD,4GAA4G;QAC5G,uDAAuD;IACzD,CAAC,EAAE,EAAE,CAAC,CAAC;AACT,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect } from 'react';\nimport { THEME } from '../../environment';\nimport { Metrics } from '../../metrics';\nimport { useVisualRefresh } from '../use-visual-mode';\n\nexport function useTelemetry(componentName: string) {\n  const isVisualRefresh = useVisualRefresh();\n\n  useEffect(() => {\n    Metrics.initMetrics(isVisualRefresh ? 'vr' : THEME);\n    if (typeof window !== 'undefined') {\n      Metrics.sendMetricOnce('awsui-viewport-width', window.innerWidth || 0);\n      Metrics.sendMetricOnce('awsui-viewport-height', window.innerHeight || 0);\n    }\n    Metrics.logComponentLoaded();\n    Metrics.logComponentUsed(componentName.toLowerCase());\n    // Components do not change the name dynamically. Explicit empty array to prevent accidential double metrics\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n}\n"]}